(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52c9b57e"],{"19a3":function(e,t,i){"use strict";var s=i("1a4c"),o=i.n(s);o.a},"1a4c":function(e,t,i){},"49d9":function(e,t,i){"use strict";var s=i("7fa6"),o=i.n(s);o.a},"7fa6":function(e,t,i){},a534:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"main"},[i("div",{ref:"leftMain",staticClass:"left_main",class:{left_main_show:!e.openStatus}},[i("div",{ref:"leftOpenClose",staticClass:"open_close_v2"},[i("div",[e.open_close?i("i",{staticClass:"el-icon-s-fold",on:{click:e.change}}):e._e()]),i("el-menu",{staticClass:"el-menu-vertical-demo bg_color",staticStyle:{float:"right",width:"300px","text-align":"left"},attrs:{"default-active":e.defaultUrl,router:!0}},[i("el-menu-item",{attrs:{index:"/file/index"}},[i("i",{staticClass:"el-icon-s-home"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),i("el-menu-item",{attrs:{index:"2"}},[i("i",{staticClass:"el-icon-time"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("最近查看")])]),i("el-menu-item",{attrs:{index:"3"}},[i("i",{staticClass:"el-icon-collection"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("我的收藏")])]),i("el-menu-item",{attrs:{index:"4"}},[i("i",{staticClass:"el-icon-school"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("知识中心")])]),i("el-menu-item",{attrs:{index:"5"}},[i("i",{staticClass:"el-icon-document"}),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("考试中心")])]),i("el-submenu",{staticClass:"bg_color",attrs:{index:"6"}},[i("template",{staticClass:"bg_color",slot:"title"},[i("i",{staticClass:"el-icon-time"}),i("span",[e._v("导航一")])]),i("el-menu-item-group",{staticClass:"bg_color"},[i("el-menu-item",{attrs:{index:"1-1"}},[e._v("选项1")]),i("el-menu-item",{attrs:{index:"1-2"}},[e._v("选项2")])],1),i("el-menu-item-group",{staticClass:"bg_color",attrs:{title:"分组2"}},[i("el-menu-item",{attrs:{index:"1-3"}},[e._v("选项3")])],1),i("el-submenu",{staticClass:"bg_color",attrs:{index:"1-4"}},[i("template",{slot:"title"},[e._v("选项4")]),i("el-menu-item",{attrs:{index:"1-4-1"}},[e._v("选项1")])],2)],2)],1)],1)]),i("el-divider",{staticClass:"el-divider--vertical",attrs:{direction:"vertical"}}),i("div",{staticClass:"right_main"},[i("div",{staticClass:"open_close"},[e.open_close?e._e():i("i",{staticClass:"el-icon-s-unfold",on:{click:e.change}}),i("el-main",[i("router-view")],1)],1)])],1)},o=[],l=(i("c740"),i("c975"),i("a434"),i("d4d8")),n=1e3,a={name:"Home",data:function(){return{defaultUrl:"/index",openStatus:!0,open_close:!0,isCollapse:!0,historyFolderId:0,historyFolderName:"",currentLocationId:0,currentLocationName:"共享空间",moveData:{typeofFolder:0,clickFolderId:-1},cardLoading:!1,folderList:[],filesList:[],folderStyle:{left:"0px",top:"0px"},folderShow:!1,clickFolderId:-1,clickFolderName:"",fileStyle:{left:"0px",top:"0px"},fileShow:!1,clickFileId:-1,clickFileName:"",clickFilePath:"",queryParams:{folderId:0}}},methods:{routeSelect:function(e){var t=["/","/index","/paper/index","/record/index","/question/index"];return t.indexOf(e)?e:null},append:function(e){var t={id:n++,label:"testtest",children:[]};e.children||this.$set(e,"children",[]),e.children.push(t)},remove:function(e,t){var i=e.parent,s=i.data.children||i.data,o=s.findIndex((function(e){return e.id===t.id}));s.splice(o,1)},change:function(){var e=this;this.openStatus=!this.openStatus,this.openStatus?setTimeout((function(){e.open_close=!0,console.log("top:"+e.$refs.panel.style.marginTop),e.$refs.panel.style.marginTop="5px",console.log("top:"+e.$refs.panel.style.marginTop)}),100):setTimeout((function(){e.open_close=!1,console.log("top:"+e.$refs.panel.style.marginTop),e.$refs.panel.style.marginTop="-23px",console.log("top:"+e.$refs.panel.style.marginTop)}),100)},handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},a:function(){window.open("这里填服务器储存文件的地址啦~"+this.clickFileName)},goBack:function(){0===this.currentLocationId?this.$message({message:"已经不能再往后退啦！",type:"warning"}):(this.queryParams.folderId=this.historyFolderId,this.currentLocationId=this.historyFolderId,this.currentLocationName=null==this.historyFolderName?"文件管理空间":this.historyFolderName,this.historyFolderId=this.currentLocationId,this.historyFolderName=this.currentLocationName,this.getList())},getList:function(){var e=this;this.loading=!0,Object(l["i"])(this.queryParams).then((function(t){console.log(t),e.folderList=t.data.folders,e.filesList=t.data.sysFiles,e.historyFolderId=null==t.data.sysFolder?0:t.data.sysFolder.parentId,e.historyFolderName=null==t.data.sysFolder?"文件管理空间":t.data.sysFolder.parentName}))},refreshGetList:function(){this.queryParams.folderId=this.currentLocationId,this.getList(),this.$message({message:"已经成功获取最新数据啦！",type:"success"}),this.initClickId()},addFile:function(){this.$refs.addFolder1.open()},addFolder:function(){var e=this;this.$prompt("请输入新文件夹名称","创建文件夹",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(t){var i=t.value,s={folderName:i,parentId:e.currentLocationId};Object(l["b"])(s).then((function(t){if(200===t.code){e.$message({type:"success",message:"创建成功 "});var i=e;setTimeout((function(){i.refreshGetList()}),500)}else e.$message({type:"error",message:"创建失败 "})}))})).catch((function(){}))},updateFloder:function(){var e=this;this.folderShow=!1,this.$prompt("请输入文件夹的新名称","重命名",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:this.clickFolderName,inputErrorMessage:"输入不能为空",inputValidator:function(e){if(!e)return"输入不能为空"}}).then((function(t){var i=t.value,s={folderName:i,folderId:e.clickFolderId};Object(l["j"])(s).then((function(t){if(200===t.code){e.$message({type:"success",message:"修改成功 "});var i=e;setTimeout((function(){i.refreshGetList()}),500)}else e.$message({type:"error",message:"修改失败 "})}))}))},deleteFolder:function(){var e=this;this.folderShow=!1,this.$confirm("此操作将永久删除该文件夹，包括文件夹内的所有内容，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["d"])(e.clickFolderId).then((function(t){if(200===t.code){e.$message({type:"success",message:"删除成功 "});var i=e;setTimeout((function(){i.refreshGetList()}),1e3)}else e.$message({type:"error",message:"删除失败！ "})}))}))},openFolder:function(){this.folderShow=!1,this.queryParams.folderId=this.clickFolderId,this.currentLocationId=this.clickFolderId,this.currentLocationName=this.clickFolderName,this.getList()},doubleClickFolder:function(e,t){this.clickFolderId=t.folderId,this.clickFolderName=t.folderName,this.openFolder()},rightClickFolder:function(e,t,i){this.initClickId(),this.clickFolderId=t.folderId,this.clickFolderName=t.folderName,this.folderStyle.left=i.pageX-140+"px",this.folderStyle.top=i.pageY-70+"px",this.folderShow=!0,this.moveData.typeofFolder=1},rightClickfile:function(e,t,i){this.initClickId(),this.clickFileId=t.fileId,this.clickFileName=t.fileName,this.clickFilePath="https://huang-pu.oss-cn-guangzhou.aliyuncs.com/"+t.filePath,this.fileStyle.left=i.pageX-140+"px",this.fileStyle.top=i.pageY-70+"px",this.fileShow=!0,this.moveData.typeofFolder=2},deleteFileFun:function(){var e=this;this.fileShow=!1,this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["c"])(e.clickFileId).then((function(t){if(200===t.code){e.$message({type:"success",message:"删除成功 "});var i=e;setTimeout((function(){i.refreshGetList()}),1e3)}else e.$message({type:"error",message:"删除失败！ "})}))}))},moveFolder:function(){this.fileShow=!1,-1!==this.clickFolderId?this.moveData.clickFolderId=this.clickFolderId:this.moveData.clickFolderId=this.clickFileId,this.$refs.moveFolder1.open()},initClickId:function(){this.clickFileId=-1,this.clickFolderId=-1,this.fileShow=!1,this.folderShow=!1}},mounted:function(){var e=this;this.$nextTick((function(){var t=e.$refs.leftMain.clientWidth;console.log("leftMain的宽度是：",t),e.$refs.leftOpenClose.style.marginLeft=t-30+"px",console.log("leftOpenClose的宽度是：",e.$refs.leftOpenClose.style.marginLeft)})),document.addEventListener("click",(function(t){if(e.folderShow||e.fileShow){var i=t.target;while(i&&i.parentNode){if("folderContainer"===i.parentNode.class)return;i=i.parentNode}e.folderShow=!1,e.fileShow=!1,e.clickFolderId=-1,e.clickFileId=-1}}))},created:function(){this.getList(),this.defaultUrl=this.routeSelect(this.$route.path)},watch:{$route:function(e,t){this.defaultUrl=this.routeSelect(e.path)}}},c=a,r=(i("19a3"),i("49d9"),i("ae6e"),i("2877")),d=Object(r["a"])(c,s,o,!1,null,"76433451",null);t["default"]=d.exports},ae6e:function(e,t,i){"use strict";var s=i("dcbe"),o=i.n(s);o.a},dcbe:function(e,t,i){}}]);