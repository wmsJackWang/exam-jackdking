import{_ as h,j as R,s as S,g as b,e as A,E as g}from"./index-651c7436.js";import{d as m,o as a,c as i,a as s,V as e,U as d,av as I,aw as y,O as L,u as l,W as T,r as k,ax as N,b as O,F as C,a6 as w,L as $,R as B}from"./@vue-3ea1986a.js";import{n as D}from"./format-904828f9.js";import{u as E}from"./vue-router-c6ae1e2a.js";import{a as V}from"./community-2790e0aa.js";const v=t=>(I("data-v-50c1d52a"),t=t(),y(),t),U={class:"user-tooltip flex content-card"},q={class:"head flex"},W=["src"],M={class:"nick-name"},Y=v(()=>s("strong",null,"\u6027\u522B\uFF1A",-1)),j=v(()=>s("strong",null,"\u9662\u6821\uFF1A",-1)),z=v(()=>s("strong",null,"\u6C42\u804C\u610F\u5411\uFF1A",-1)),G=v(()=>s("strong",null,"\u6240\u5728\u5730\u533A\uFF1A",-1)),J=m({__name:"userTooltip",props:{userInfo:{}},setup(t){return(o,r)=>(a(),i("div",U,[s("div",q,[s("img",{class:"mr-10",src:o.userInfo.avatar,alt:"\u5934\u50CF"},null,8,W),s("strong",M,e(o.userInfo.nickName),1)]),s("p",null,[Y,d(" "+e(o.userInfo.sex)+"\u751F ",1)]),s("p",null,[j,s("span",null,e(o.userInfo.school)+" -",1),s("span",null,e(o.userInfo.graduation)+"\u5C4A",1)]),s("p",null,[z,d(" "+e(o.userInfo.professional),1)]),s("p",null,[G,d(" "+e(o.userInfo.origin),1)])]))}});const K=h(J,[["__scopeId","data-v-50c1d52a"]]),P=t=>(I("data-v-b993c8ac"),t=t(),y(),t),Q={class:"user-head"},X=["src"],Z={class:"user-info"},x={class:"user-name"},ss={class:"date-school"},ts={key:0,class:"datetime mr-20"},os={class:"school"},es=P(()=>s("i",{class:"iconfont icon-school"},null,-1)),ns=m({__name:"userInfo",props:{userInfo:{},publishTime:{}},setup(t){return(o,r)=>{var _,u,n,c;return a(),i("div",Q,[s("img",{class:"pointer mr-10",src:(_=o.userInfo)==null?void 0:_.avatar},null,8,X),L(K,{class:"user-tooltip",userInfo:o.userInfo},null,8,["userInfo"]),s("div",Z,[s("span",x,e((u=o.userInfo)==null?void 0:u.nickName),1),s("div",ss,[o.publishTime?(a(),i("span",ts,e(l(R)(o.publishTime))+"\u53D1\u5E03",1)):T("",!0),s("span",os,[es,d(" "+e((n=o.userInfo)==null?void 0:n.school)+" - "+e((c=o.userInfo)==null?void 0:c.graduation)+"\u5C4A ",1)])])])])}}});const Cs=h(ns,[["__scopeId","data-v-b993c8ac"]]);function as(){const t="__BROWSE_HISTORY__",r=k([]),_=E();function u(p){const f=n();f.length>=10&&f.pop(),f.unshift(p),S(t,f,60*60*1e3*24*365)}function n(){return b(t)||[]}function c(p){r.value=p}function F(p){_.push(`/community/detail?articleId=${p}`)}return N(()=>{c(n()||[])}),{data:r,useDetail:F,setBrowseHistory:u,getBrowseHistory:n}}function us(){const t=k([]),o=E();async function r(){const u=await V({requireCount:10});if(u.code===200){t.value=u.data;return}A(u.msg)}function _(u){o.push(`/community/detail?articleId=${u}`)}return O(()=>r()),{useDetail:_,hotList:t}}const cs=t=>(I("data-v-5e9eff97"),t=t(),y(),t),is={class:"hot-list content-card"},rs=cs(()=>s("p",{class:"hot-title slide-title"},"\u70ED\u95E8\u9762\u7ECF",-1)),ls={key:0,class:"list-style-init"},_s=["onClick"],ds=m({__name:"hotList",setup(t){const{hotList:o,useDetail:r}=us();return(_,u)=>(a(),i("div",is,[rs,l(o).length?(a(),i("ul",ls,[(a(!0),i(C,null,w(l(o),(n,c)=>(a(),i("li",{key:c,class:"line-2",onClick:F=>l(r)(n.articleId)},[s("span",{class:$(["rank",{topRank:c<3}])},e(c+1),3),d(" "+e(n.title)+" ",1),s("i",{class:$(["iconfont icon-hot font-20",{topRank:c<3}])},null,2),s("span",{class:$({topRank:c<3})},e(l(D)(n.hot)),3)],8,_s))),128))])):(a(),B(g,{key:1,title:"\u8FD8\u6CA1\u6709\u9762\u7ECF\uFF0C\u5FEB\u53BB\u62A2\u6C99\u53D1\u5427."}))]))}});const ws=h(ds,[["__scopeId","data-v-5e9eff97"]]),H=t=>(I("data-v-983f1ca9"),t=t(),y(),t),ps={class:"browse-history-list mt-20 content-card"},fs=H(()=>s("p",{class:"browse-history-title slide-title"},"\u6D4F\u89C8\u5386\u53F2",-1)),hs={key:0,class:"list-style-init history-list"},ms=["onClick"],Is=H(()=>s("i",{class:"iconfont icon-browse font-20"},null,-1)),ys=m({__name:"browseHistory",setup(t){const{data:o,useDetail:r}=as();return(_,u)=>(a(),i("div",ps,[fs,l(o).length?(a(),i("ul",hs,[(a(!0),i(C,null,w(l(o),(n,c)=>(a(),i("li",{key:c,class:"line-2",onClick:F=>l(r)(n.articleId)},[d(e(n.title)+" ",1),s("span",null,[Is,d(" "+e(l(D)(n.hot)),1)])],8,ms))),128))])):(a(),B(g,{key:1,title:"\u4F60\u8FD8\u6CA1\u6D4F\u89C8\u8FC7\u4EFB\u4F55\u6587\u7AE0"}))]))}});const Bs=h(ys,[["__scopeId","data-v-983f1ca9"]]);export{Bs as B,ws as H,Cs as U,as as u};
