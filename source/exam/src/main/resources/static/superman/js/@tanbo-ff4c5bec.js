import"./reflect-metadata-c5a8a4c4.js";function P(r){if(typeof r=="string")return r;if(Array.isArray(r))return"["+r.map(P).join(", ")+"]";if(r==null)return""+r;if(r.name)return"".concat(r.name);if(r.token)return"".concat(r.token);var t=r.toString();if(t==null)return""+t;var e=t.indexOf(`
`);return e===-1?t:t.substring(0,e)}function Z(r){return function(e){var n=new Error("No provide for `".concat(P(e),"`!"));return n.name=r,n}}function ut(r){return function(e){var n=new Error("Can not found provide scope `".concat(P(e),"`!"));return n.name=r,n}}var ct=function(){function r(){this.classes=new Map,this.props=new Map,this.methods=new Map,this.params=new Map}return r.prototype.setClassMetadata=function(t,e){this.classes.set(t,e)},r.prototype.getClassMetadata=function(t){return this.classes.get(t)},r.prototype.getClassMetadataKeys=function(){return Array.from(this.classes.keys())},r.prototype.pushParamMetadata=function(t,e){this.params.has(t)?this.params.get(t).push(e):this.params.set(t,[e])},r.prototype.getParamMetadata=function(t){return this.params.get(t)},r.prototype.getParamMetadataKeys=function(){return Array.from(this.params.keys())},r.prototype.getPropMetadataKeys=function(){return Array.from(this.props.keys())},r.prototype.pushPropMetadata=function(t,e){this.props.has(t)?this.props.get(t).push(e):this.props.set(t,[e])},r.prototype.getPropMetadata=function(t){return this.props.get(t)},r.prototype.pushMethodMetadata=function(t,e){this.methods.has(t)?this.methods.get(t).push(e):this.methods.set(t,[e])},r.prototype.getMethodMetadata=function(t){return this.methods.get(t)},r}();function B(r,t){return function(e,n,i){var a=x(e);a.pushParamMetadata(r,{propertyKey:n,parameterIndex:i,metadata:t})}}function lt(r,t,e){return function(n,i){var a=x(n.constructor);a.pushPropMetadata(r,{injectToken:t||Reflect.getMetadata("design:type",n,i),propertyKey:i,contextCallback:e})}}function ht(r,t){return function(e){var n=x(e);n.setClassMetadata(r,{paramTypes:Reflect.getMetadata("design:paramtypes",e),metadata:t})}}function x(r){var t="__annotations__";return r.hasOwnProperty(t)||(r[t]=new ct),r[t]}var tt=function(){function r(t){this.forwardRefFn=t}return r.prototype.getRef=function(){return this.forwardRefFn()},r}(),Tt=function(){function r(t){this.name=t}return r.prototype.toString=function(){return this.name||"[anonymous provide scope]"},r}(),T=function r(t){if(this instanceof r)this.provideIn=(t==null?void 0:t.provideIn)||null;else return ht(T,new T(t))},et=function(){function r(t){this.description=t}return r.prototype.toString=function(){return this.description||"[anonymous injection token]"},r}(),y;(function(r){r.Default="Default",r.Self="Self",r.SkipSelf="SkipSelf",r.Optional="Optional"})(y||(y={}));var rt=function(){function r(){}return r}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var H=function(r,t){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},H(r,t)};function nt(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");H(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var A=function(){return A=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},A.apply(this,arguments)};function D(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(o)throw o.error}}return a}function F(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return r.concat(a||Array.prototype.slice.call(t))}var b={__debug_value__:"THROW_IF_NOT_FOUND"},ft=Z("NullInjectorError"),pt=function(r){nt(t,r);function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.parentInjector=null,e}return t.prototype.get=function(e,n){if(n===void 0&&(n=b),n===b)throw ft(e);return n},t}(rt),M=function(t){if(this instanceof M)this.token=t;else return B(M,new M(t))},k=function(){if(!(this instanceof k))return B(k,new k)},_=function(){if(!(this instanceof _))return B(_,new _)},j=function(){if(!(this instanceof j))return B(j,new j)},V=function(t,e,n){if(e===void 0&&(e=b),!(this instanceof V))return lt(V,t,function(i,a,o,s){i[a]=s.get(o instanceof tt?o.getRef():o,e,n)})};function Y(r){return r.useValue?$(r):r.useClass?K(r):r.useExisting?vt(r):r.useFactory?dt(r):r.provide?r.provide instanceof et?$(r):bt(r):mt(r)}function $(r){return{provide:r.provide,scope:null,generateFactory:function(){return function(){return r.useValue}},deps:[]}}function K(r){var t,e;if(r.deps)t=z(r.provide,r.deps);else{var n=yt(r.useClass);e=n.scope,t=z(r.provide,n.deps)}return{provide:r.provide,scope:e,deps:t,generateFactory:function(i,a){return function(){for(var o,s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var c=new((o=r.useClass).bind.apply(o,F([void 0],D(s),!1)));a(r.provide,c);var h=x(r.useClass).getPropMetadataKeys();return h.forEach(function(f){var p=x(r.useClass).getPropMetadata(f)||[];p.forEach(function(w){w.contextCallback(c,w.propertyKey,w.injectToken,i)})}),c}}}}function vt(r){return{provide:r.provide,scope:null,generateFactory:function(t){return function(){return t.get(r.useExisting)}},deps:[]}}function dt(r){return{provide:r.provide,scope:null,generateFactory:function(){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.useFactory.apply(r,F([],D(t),!1))}},deps:z(r.provide,r.deps||[])}}function bt(r){return K(A(A({},r),{useClass:r.provide}))}function mt(r){return K({provide:r,useClass:r})}function yt(r){var t=x(r),e=t.getClassMetadata(T);if(typeof e>"u")throw new Error("Class `".concat(P(r),"` is not injectable!"));var n=(e.paramTypes||[]).map(function(a){return[a]}),i=[M,k,_,j];return i.forEach(function(a){(t.getParamMetadata(a)||[]).forEach(function(o){n[o.parameterIndex].push(o.metadata)})}),{scope:e.metadata.provideIn,deps:n}}function z(r,t){return t.map(function(e,n){var i={injectKey:null,optional:!1,visibility:null};if(!Array.isArray(e))i.injectKey=e;else for(var a=0;a<e.length;a++){var o=e[a];o instanceof M?i.injectKey=o.token:o instanceof k||o instanceof _?i.visibility=o:o instanceof j?i.optional=!0:i.injectKey=o}if(typeof i.injectKey>"u")throw new Error("The ".concat(n," th dependent parameter type of `").concat(P(r),"` was not obtained,\nif the dependency is declared later, you can refer to it using `constructor(@Inject(forwardRef(() => [Type|InjectionToken])) paramName: [Type]) {}`"));return i})}var C=Z("ReflectiveInjectorError"),gt=ut("ProvideScopeError"),At=function(r){nt(t,r);function t(e,n,i){var a=r.call(this)||this;return a.parentInjector=e,a.staticProviders=n,a.scope=i,a.recordValues=new Map,a.normalizedProviders=n.map(function(o){return Y(o)}),a}return t.prototype.get=function(e,n,i){var a;if(n===void 0&&(n=b),i=i||y.Default,i===y.SkipSelf){if(this.parentInjector)return this.parentInjector.get(e,n);if(n!==b)return n;throw C(e)}if(this.recordValues.has(e))return this.recordValues.get(e);for(var o=0;o<this.normalizedProviders.length;o++){var s=this.normalizedProviders[o];if(s.provide===e)return this.getValue(e,b,s)}if(!(e instanceof et)){var u=(a=x(e).getClassMetadata(T))===null||a===void 0?void 0:a.metadata.provideIn;if(u){var s=Y(e);if(this.scope===u)return this.normalizedProviders.push(s),this.getValue(e,b,s);var c=this.parentInjector;if(!c||c instanceof pt){if(s.scope==="root")return this.normalizedProviders.push(s),this.getValue(e,b,s);if(n!==b)return n;throw gt(s.scope)}}}if(i===y.Self){if(n===b)throw C(e);return n}if(this.parentInjector)return this.parentInjector.get(e,n,i===y.Optional?y.Optional:y.Default);if(n===b)throw C(e);return n},t.prototype.getValue=function(e,n,i){var a=this;n===void 0&&(n=b);var o=i.generateFactory,s=i.deps,u=this.resolveDeps(s||[],n),c=this.recordValues.get(e);if(c)return c;var h=o(this,function(f,p){a.recordValues.set(f,p)});return c=h.apply(void 0,F([],D(u),!1)),this.recordValues.set(e,c),c},t.prototype.resolveDeps=function(e,n){var i=this;return e.map(function(a){var o,s={},u=a.injectKey instanceof tt?a.injectKey.getRef():a.injectKey;if(a.visibility instanceof k)o=i.get(u,s,y.Self);else if(a.visibility instanceof _)if(i.parentInjector)o=i.parentInjector.get(u,s);else{if(a.optional&&n===b)return null;throw C(u)}else o=i.get(u,s);if(o===s){if(a.optional)return n===b?null:n;throw C(u)}return o})},t}(rt);class J{constructor(t){Object.defineProperty(this,"closed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"syncErrorThrowable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"destinationOrNext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),typeof t=="function"?this.destinationOrNext={next:t}:this.destinationOrNext=t}next(t){this.closed||this.destinationOrNext.next&&(this.syncErrorThrowable=!1,this.destinationOrNext.next(t),this.syncErrorThrowable=!0)}error(t){if(!this.closed){if(this.closed=!0,this.destinationOrNext.error){this.syncErrorThrowable=!1,this.destinationOrNext.error(t),this.syncErrorThrowable=!0,this.destinationOrNext=null;return}throw this.syncErrorThrowable=!1,this.destinationOrNext=null,t}}complete(){this.closed||(this.closed=!0,this.destinationOrNext.complete&&(this.syncErrorThrowable=!1,this.destinationOrNext.complete(),this.syncErrorThrowable=!0),this.destinationOrNext=null)}}function it(){}class S{constructor(t){Object.defineProperty(this,"unsubscribeCallback",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"subs",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"isStopped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}add(...t){return this.isStopped?this:(this.subs.push(...t),this)}unsubscribe(){this.isStopped=!0,this.unsubscribeCallback&&(this.unsubscribeCallback(),this.unsubscribeCallback=it),this.subs.forEach(t=>t.unsubscribe()),this.subs=[]}}class d{constructor(t=e=>{e.complete()}){Object.defineProperty(this,"source",{enumerable:!0,configurable:!0,writable:!0,value:t})}pipe(...t){return t.length===0?this:t.reduce((e,n)=>n(new d(i=>e.subscribe(i))),this)}subscribe(t=it){const e=this.toSubscriber(t);return this.trySubscribe(e)}toPromise(){return new Promise((t,e)=>{this.subscribe({next(n){t(n)},error(n){e(n)}})})}toSubscriber(t){return typeof t=="function"?new J({next:t}):new J(t)}trySubscribe(t){let e;try{e=this.source(t)}catch(n){if(t.syncErrorThrowable)t.error(n);else throw n}return typeof e=="function"?new S(function(){t.closed=!0,e()}):e instanceof S?new S(function(){t.closed=!0,e.unsubscribe()}):new S(function(){t.closed=!0})}}class N extends d{constructor(){super(t=>{this.subscribers.push(t)}),Object.defineProperty(this,"subscribers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}asObservable(){return new d(t=>{this.subscribe(t)})}next(t){[...this.subscribers].forEach(e=>{try{e.next(t)}catch(n){if(e.syncErrorThrowable)e.error(n);else throw n}})}error(t){[...this.subscribers].forEach(e=>{e.error(t)})}complete(){[...this.subscribers].forEach(t=>{t.complete()})}}function Lt(r,t,e=!1){return new d(n=>{function i(a){return n.next(a)}return r.addEventListener(t,i,e),function(){r.removeEventListener(t,i)}})}function Bt(r){return new d(t=>{r.then(e=>{t.next(e),t.complete()}).catch(e=>{t.error(e)})})}function Rt(...r){return new d(t=>{r.length===0&&t.complete();const e=r.map(i=>({source:i,isComplete:!1})),n=e.map(i=>i.source.subscribe({next(a){t.next(a)},error(a){t.error(a)},complete(){i.isComplete=!0,e.every(a=>a.isComplete)&&t.complete()}}));return function(){n.forEach(i=>i.unsubscribe())}})}function Ht(...r){return new d(t=>{r.forEach(e=>t.next(e)),t.complete()})}function zt(r){return function(t){return new d(e=>{let n=!0,i=null,a,o=!1,s=!1;const u=t.subscribe({next(c){n&&(a=c,n=!1,i=setTimeout(()=>{i=null,n=!0,e.next(a),o&&e.complete()},r))},error(c){s=!0,u&&u.unsubscribe(),e.error(c)},complete(){i===null?e.complete():o=!0}});return s&&u.unsubscribe(),function(){clearTimeout(i),u.unsubscribe()}})}}function Nt(r){return function(t){return new d(e=>{let n=null,i=!1;const a=t.subscribe({next(o){clearTimeout(n),n=setTimeout(function(){n=null,e.next(o),i&&e.complete()},r)},error(o){e.error(o)},complete(){n===null?e.complete():i=!0}});return function(){n=null,clearTimeout(n),a.unsubscribe()}})}}function Dt(r=0){return function(t){return new d(e=>{const n=[];let i=!1;const a=t.subscribe({next(o){n.push(setTimeout(function(){n.shift(),e.next(o),i&&n.length===0&&e.complete()},r))},error(o){e.error(o)},complete(){i=!0}});return function(){n.forEach(o=>clearTimeout(o)),a.unsubscribe()}})}}function Ft(r){return function(t){return new d(e=>{let n={},i=!0;return t.subscribe({next(a){if(i){i=!1,n=a,e.next(a);return}if(r){const o=r(n,a);n=a,o&&e.next(a)}else a!==n&&(n=a,e.next(a))},error(a){e.error(a)},complete(){e.complete()}})})}}function Kt(r){return function(t){return new d(e=>t.subscribe({next(n){r(n)&&e.next(n)},error(n){e.error(n)},complete(){e.complete()}}))}}function qt(r){return function(t){return new d(e=>t.subscribe({next(n){e.next(r(n))},error(n){e.error(n)},complete(){e.complete()}}))}}function Xt(){return function(r){return new d(t=>{let e=[],n=null,i=!1;return r.subscribe({next(a){e.push(a),n||(n=Promise.resolve().then(()=>{const o=e;e=[],n=null,t.next(o),i&&t.complete()}))},error(a){t.error(a)},complete(){n===null?t.complete():i=!0}})})}}function Wt(){return function(r){const t=new N;return r.subscribe({next(e){t.next(e)},error(e){t.error(e)},complete(){t.complete()}}),t}}function Ut(r){return function(t){return new d(e=>{let n=0;const i=new S;let a=!1;const o={next(s){if(n<r){e.next(s),n++,n===r&&(a=!0,i.unsubscribe(),e.complete());return}a=!0,e.complete()},error(s){e.error(s)},complete(){e.complete()}};return i.add(t.subscribe(o)),a&&i.unsubscribe(),i})}}var wt=function(){function r(t){if(this.anchors=[],t.length<4)throw new Error("[Bezier]: the parameters should not be less than 4.");if(t.length%2!==0)throw new Error("[Bezier]: the parameter should be an even number.");for(var e={x:null,y:null},n=0;n<t.length;n++)n%2?(e.y=t[n],this.anchors.push(e),e={x:null,y:null}):e.x=t[n]}return r.prototype.update=function(t,e){for(var n=this.anchors;n.length>1;)typeof e=="function"&&e(n),n=r.next(n,t);return n[0]},r.next=function(t,e){for(var n=[],i=0;i<t.length-1;i++){var a=t[i],o=t[i+1];n.push({x:(o.x-a.x)*e+a.x,y:(o.y-a.y)*e+a.y})}return n},r}(),xt=globalThis&&globalThis.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gt=function(r){xt(t,r);function t(e,n,i,a){var o=r.call(this,[0,0,t.guard0To1(e),n,t.guard0To1(i),a,1,1])||this;return o.precision=1e-6,o}return t.prototype.update=function(e,n){var i=this.newton(e);return r.prototype.update.call(this,i,n)},t.prototype.newton=function(e){for(var n=e,i=1;;){var a=r.prototype.update.call(this,e),o=a.x-n;if(Math.abs(o)<this.precision)return e;var s=void 0;o<0?s=(e+i)/2:(s=e/2,i=e),e=s}},t.guard0To1=function(e){return e<0?0:e>1?1:e},t}(wt);function at(r){return(r%360+360)%360}function R(r){return/^#/.test(r)&&(r=r.substring(1)),r.length===3?"#"+r.split("").map(function(t){return t+t}).join(""):"#"+r}var l=255,g=360,v=100;function E(r){var t=r.r,e=r.g,n=r.b;t=t===l?1:t%l/l,e=e===l?1:e%l/l,n=n===l?1:n%l/l;var i=Math.max(t,e,n),a=Math.min(t,e,n),o,s,u=(i+a)/2;if(i===a)o=s=0;else{var c=i-a;switch(s=u>.5?c/(2-i-a):c/(i+a),i){case t:o=(e-n)/c+(e<n?6:0);break;case e:o=(n-t)/c+2;break;case n:o=(t-e)/c+4;break}o/=6}return{h:Math.round(o*g),s:Math.round(s*v),l:Math.round(u*v)}}function L(r){var t=r.r,e=r.g,n=r.b;t=t===l?1:t%l/l,e=e===l?1:e%l/l,n=n===l?1:n%l/l;var i=Math.max(t,e,n),a=Math.min(t,e,n),o,s,u=i,c=i-a;if(s=i===0?0:c/i,i===a)o=0;else{switch(i){case t:o=(e-n)/c+(e<n?6:0);break;case e:o=(n-t)/c+2;break;case n:o=(t-e)/c+4;break}o/=6}return{h:Math.round(o*g),s:Math.round(s*v),v:Math.round(u*v)}}function q(r){var t=r.h,e=r.s,n=r.l;function i(h,f,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?h+(f-h)*6*p:p<1/2?f:p<2/3?h+(f-h)*(2/3-p)*6:h}var a,o,s;if(t=at(t),t=t===g?1:t%g/g,e=e===v?1:e%v/v,n=n===v?1:n%v/v,e===0)a=o=s=n;else{var u=n<.5?n*(1+e):n+e-n*e,c=2*n-u;a=i(c,u,t+1/3),o=i(c,u,t),s=i(c,u,t-1/3)}return{r:Math.round(a*l),g:Math.round(o*l),b:Math.round(s*l)}}function X(r){var t=r.h,e=r.s,n=r.v;t=at(t),t=t===g?1:t%g/g*6,e=e===v?1:e%v/v,n=n===v?1:n%v/v;var i=Math.floor(t),a=t-i,o=n*(1-e),s=n*(1-a*e),u=n*(1-(1-a)*e),c=i%6,h=[n,s,o,o,u,n][c],f=[u,n,n,s,o,o][c],p=[o,o,u,n,n,s][c];return{r:Math.floor(h*l),g:Math.floor(f*l),b:Math.floor(p*l)}}function O(r){var t=r.r,e=r.g,n=r.b,i=Math.round(t).toString(16),a=Math.round(e).toString(16),o=Math.round(n).toString(16);return i=i.length===1?"0"+i:i,a=a.length===1?"0"+a:a,o=o.length===1?"0"+o:o,"#"+i+a+o}function I(r){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(R(r));return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function kt(r){var t=X(r);return O(t)}function _t(r){var t=I(R(r));return L(t)}function Q(r){var t=q(r);return O(t)}function ot(r){var t=I(R(r));return E(t)}function Et(r){var t=r.c,e=r.m,n=r.y,i=r.k,a=255*(1-t)*(1-i),o=255*(1-e)*(1-i),s=255*(1-n)*(1-i);return{r:Math.floor(a),g:Math.floor(o),b:Math.floor(s)}}function st(r){return E(X(r))}function Ct(r){var t=q(r);return L(t)}function St(r){if(r.indexOf("#")>-1)return I(r);var t=r.split("(")[0],e=r.split("(")[1].split(")")[0].split(",");return t.split("").reduce(function(n,i,a){var o=n;return o[i]=parseFloat(e[a]),o},{})}function Mt(r){if(typeof r=="string")try{return I(r),"hex"}catch{}if(typeof r!="object")return"unknown";var t=r;return t.r+t.g+t.b&&typeof(t.r+t.g+t.b)=="number"?"rgb":t.h+t.s+t.v&&typeof(t.h+t.s+t.v)=="number"?"hsv":t.h+t.s+t.l&&typeof(t.h+t.s+t.l)=="number"?"hsl":t.c+t.m+t.y+t.k&&typeof(t.c+t.m+t.y+t.k)=="number"?"cmyk":"unknown"}function jt(r){var t=Mt(r);switch(t){case"hsl":return r;case"rgb":return E(r);case"hex":return ot(r);case"hsv":return st(r);case"cmyk":return E(Et(r));default:return"unknown"}}var m=function(){return m=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},m.apply(this,arguments)};function Ot(r,t,e,n){return`
<div class="tanbo-color-picker-preset">
  <div class="tanbo-color-picker-swatches" style="height: 50px"></div>
  <div class="tanbo-color-picker-swatches" style="height: 118px;"></div>
  <div class="tanbo-color-picker-recent-text">`.concat(e,`</div>
  <div class="tanbo-color-picker-swatches" style="height: 25px;">
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
  </div>
  <div class="tanbo-color-picker-flex">
    <div class="tanbo-color-picker-swatches">
      <div data-color=""></div>
    </div>
    <button type="button" class="tanbo-color-picker-to-palette">`).concat(t,`<svg style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path transform="rotate(180, 512, 512)" d="M497.92 165.12L422.4 89.6 0 512l422.4 422.4 75.52-75.52L151.04 512z"></path></svg>
    </button>
  </div>
</div>
<div class="tanbo-color-picker-menu">
  <div class="tanbo-color-picker-back-btn-wrap">
    <button type="button" class="tanbo-color-picker-back-btn">
      <svg style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M497.92 165.12L422.4 89.6 0 512l422.4 422.4 75.52-75.52L151.04 512z"></path></svg>`).concat(n,`
    </button>
  </div>
  <div class="tanbo-color-picker-viewer">
    <div class="tanbo-color-picker-viewer-left">
      <div class="tanbo-color-picker-palette">
        <div class="tanbo-color-picker-palette-point"></div>
      </div>
      <div class="tanbo-color-picker-viewer-alpha">
        <div class="tanbo-color-picker-viewer-alpha-pointer"></div>
        <div class="tanbo-color-picker-viewer-alpha-bar"></div>
      </div>
    </div>
    <div class="tanbo-color-picker-viewer-right">
      <div class="tanbo-color-picker-tools">
        <div class="tanbo-color-picker-value">
          <div class="tanbo-color-picker-value-color"></div>
        </div>
        <div class="tanbo-color-picker-hue-bar">
          <div class="tanbo-color-picker-hue-pointer"></div>
        </div>
      </div>
      <div class="tanbo-color-picker-viewer-alpha-value">
        1
      </div>
    </div>
  </div>
  <div class="tanbo-color-picker-inputs">
    <div class="tanbo-color-picker-hsl">
      <div>H <input data-model="H" min="0" max="360" type="number"></div>
      <div>S <input data-model="S" min="0" max="100" type="number"></div>
      <div>L <input data-model="L" min="0" max="100" type="number"></div>
    </div>
    <div class="tanbo-color-picker-rgb">
      <div>R <input data-model="R" min="0" max="255" type="number"></div>
      <div>G <input data-model="G" min="0" max="255" type="number"></div>
      <div>B <input data-model="B" min="0" max="255" type="number"></div>
    </div>
    <div class="tanbo-color-picker-hex">
      <div>HEX <input data-model="HEX" type="text"></div>
    </div>
  </div>
  <div class="tanbo-color-picker-btn-wrap">
    <button type="button" class="tanbo-color-picker-btn">`).concat(r,`</button>
  </div>
</div>
`)}var Pt=function(){function r(t,e){e===void 0&&(e={});var n=this;this.onChange=new N,this.onSelected=new N,this.host=document.createElement("div"),this.empty=!1,this.resetAlpha=!0,this.recentColorOptions=[],this.writing=!1,this.colorElements=[],typeof t=="string"?this.container=document.querySelector(t):this.container=t,this.host.classList.add("tanbo-color-picker"),this.host.innerHTML=Ot(e.btnText||"\u786E\u5B9A",e.paletteText||"\u8C03\u8272\u76D8",e.recentText||"\u6700\u8FD1\u4F7F\u7528",e.backText||"\u8FD4\u56DE"),this.container.appendChild(this.host),this.valueViewer=this.host.querySelector(".tanbo-color-picker-value-color"),this.palette=this.host.querySelector(".tanbo-color-picker-palette"),this.palettePoint=this.host.querySelector(".tanbo-color-picker-palette-point"),this.hueBar=this.host.querySelector(".tanbo-color-picker-hue-bar"),this.huePoint=this.host.querySelector(".tanbo-color-picker-hue-pointer"),this.checkBtn=this.host.querySelector(".tanbo-color-picker-btn"),this.alphaBar=this.host.querySelector(".tanbo-color-picker-viewer-alpha-bar"),this.alphaValue=this.host.querySelector(".tanbo-color-picker-viewer-alpha-value"),this.alphaPoint=this.host.querySelector(".tanbo-color-picker-viewer-alpha-pointer"),this.inputsWrap=this.host.querySelector(".tanbo-color-picker-inputs"),this.hslInputs=Array.from(this.host.querySelectorAll(".tanbo-color-picker-hsl input")),this.rgbInputs=Array.from(this.host.querySelectorAll(".tanbo-color-picker-rgb input")),this.hexInput=this.host.querySelector(".tanbo-color-picker-hex input"),this.colorWrapper=this.host.querySelector(".tanbo-color-picker-preset"),this.switchBtn=this.host.querySelector(".tanbo-color-picker-to-palette"),this.menu=this.host.querySelector(".tanbo-color-picker-menu"),this.backBtn=this.host.querySelector(".tanbo-color-picker-back-btn"),this.mainColors=this.colorWrapper.children[0],this.colors=this.colorWrapper.children[1],this.recentElement=this.colorWrapper.children[3],Array.isArray(e.mainColors)&&this.addColor(e.mainColors,this.mainColors),Array.isArray(e.colors)&&this.addColor(e.colors,this.colors),this.hex=e.value||"#f00",this.bindingEvents(),this.onSelected.subscribe(function(){n.addRecentColor(n.hex)})}return Object.defineProperty(r.prototype,"hex",{get:function(){return this.empty?null:this._hex},set:function(t){var e=t?R(t):null;e?(this.empty=!1,this._hex=e,this._hsl=ot(e),this._rgb=I(e),this._hsv=_t(e),this._rgba=m(m({},this._rgb),{a:this.resetAlpha?1:this._rgba.a})):this.empty=!0,this.resetAlpha=!0,this.render()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hsl",{get:function(){return this.empty?null:this._hsl},set:function(t){!t||typeof t.h!="number"||typeof t.s!="number"||typeof t.l!="number"?this.empty=!0:(this.empty=!1,this._hsl=t,this._hex=Q(t),this._hsv=Ct(t),this._rgb=q(t),this._rgba=m(m({},this._rgb),{a:this.resetAlpha?1:this._rgba.a})),this.resetAlpha=!0,this.render()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rgb",{get:function(){return this.empty?null:this._rgb},set:function(t){!t||typeof t.r!="number"||typeof t.g!="number"||typeof t.b!="number"?this.empty=!0:(this.empty=!1,this._rgb=t,this._rgba=m(m({},t),{a:this.resetAlpha?1:this._rgba.a}),this._hsl=E(t),this._hex=O(t),this._hsv=L(t)),this.resetAlpha=!0,this.render()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rgba",{get:function(){return this.empty?null:this._rgba},set:function(t){!t||typeof t.r!="number"||typeof t.g!="number"||typeof t.b!="number"||typeof t.a!="number"?this.empty=!0:(this.empty=!1,this._rgba=t,this._hsl=E(t),this._hex=O(t),this._hsv=L(t)),this.render()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hsv",{get:function(){return this.empty?null:this._hsv},set:function(t){!t||typeof t.h!="number"||typeof t.s!="number"||typeof t.v!="number"?this.empty=!0:(this.empty=!1,this._hsv=t,this._hex=kt(t),this._hsl=st(t),this._rgb=X(t),this._rgba=m(m({},this._rgb),{a:this.resetAlpha?1:this._rgba.a})),this.resetAlpha=!0,this.render()},enumerable:!1,configurable:!0}),r.prototype.addRecentColor=function(t){!t||(this.recentColorOptions=this.recentColorOptions.filter(function(e){return e!==t}),this.recentColorOptions.unshift(t),this.recentColorOptions.length>=7&&(this.recentColorOptions.length=7),this.renderRecentColors())},r.prototype.renderRecentColors=function(){for(var t=0;t<7;){var e=this.recentColorOptions[t],n=this.recentElement.children[t];t++,e?(n.style.background=e,n.setAttribute("data-color",e)):(n.style.background="",n.removeAttribute("data-color"))}},r.prototype.addColor=function(t,e){var n=this;t.forEach(function(i){var a=document.createElement("div");a.style.background=i,a.setAttribute("data-color",i),n.colorElements.push(a),e.append(a)})},r.prototype.render=function(){var t=this;this.writing||(this.empty?(this.hslInputs[0].value="",this.hslInputs[1].value="",this.hslInputs[2].value="",this.rgbInputs[0].value="",this.rgbInputs[1].value="",this.rgbInputs[2].value="",this.hexInput.value="",this.alphaValue.innerText="1"):(this.hslInputs[0].value=this.hsl.h+"",this.hslInputs[1].value=this.hsl.s+"",this.hslInputs[2].value=this.hsl.l+"",this.rgbInputs[0].value=this.rgb.r+"",this.rgbInputs[1].value=this.rgb.g+"",this.rgbInputs[2].value=this.rgb.b+"",this.hexInput.value=this.hex,this.alphaValue.innerText=Number(this.rgba.a.toFixed(2))+"")),this.palette.classList.remove("tanbo-color-picker-palette-empty"),this.palette.style.background="linear-gradient(to right, #fff, hsl(".concat(this._hsv.h,", 100%, 50%))"),this.palettePoint.style.left="calc(".concat(this._hsv.s,"% - 6px)"),this.palettePoint.style.top="calc(".concat(100-this._hsv.v,"% - 6px)"),this.huePoint.style.top="calc(".concat(this._hsv.h/360*100,"% - 4px)"),this.empty?(this.palette.classList.add("tanbo-color-picker-palette-empty"),this.palette.style.background="",this.valueViewer.style.background="",this.alphaBar.style.background="",this.alphaPoint.style.left="100%"):(this.valueViewer.style.background="rgba(".concat(this.rgba.r,", ").concat(this.rgba.g,", ").concat(this.rgba.b,", ").concat(this.rgba.a,")"),this.palette.classList.remove("tanbo-color-picker-palette-empty"),this.palette.style.background="linear-gradient(to right, #fff, hsl(".concat(this._hsv.h,", 100%, 50%))"),this.alphaBar.style.background="linear-gradient(to right, transparent, ".concat(this.hex,")"),this.alphaPoint.style.left=(this.rgba.a||0)*100+"%"),this.colorElements.forEach(function(e){var n=e.getAttribute("data-color")||"",i=jt(n);if(i==="unknown"||!t.hsl){e.classList.remove("tanbo-color-picker-current");return}i.l===t.hsl.l&&i.s===t.hsl.s&&i.h===t.hsl.h?e.classList.add("tanbo-color-picker-current"):e.classList.remove("tanbo-color-picker-current")})},r.prototype.bindingEvents=function(){this.bindPaletteEvent(),this.bindHueBarEvent(),this.bindAlphaEvent(),this.bindInputsEvent(),this.bindSelectedEvent(),this.bindColorOptionsEvent(),this.bindSwitchEvent()},r.prototype.bindSwitchEvent=function(){var t=this;this.switchBtn.addEventListener("click",function(){t.host.classList.add("tanbo-color-picker-show-palette")}),this.backBtn.addEventListener("click",function(){t.host.classList.remove("tanbo-color-picker-show-palette")})},r.prototype.bindAlphaEvent=function(){var t=this,e=function(o){var s=t.alphaBar.getBoundingClientRect(),u=o.clientX-s.left;u=Math.max(0,u),u=Math.min(s.width,u),t.rgba=m(m({},t._rgba),{a:u/s.width}),t.onChange.next(t)},n=function(o){e(o),document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)},i=function(o){e(o)},a=function(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a)};this.alphaBar.addEventListener("mousedown",n)},r.prototype.bindPaletteEvent=function(){var t=this,e=function(o){var s=t.palette.getBoundingClientRect(),u=o.clientX-s.left,c=o.clientY-s.top,h=u/130*100,f=100-c/130*100;h=Math.max(0,h),h=Math.min(100,h),f=Math.max(0,f),f=Math.min(100,f),t.resetAlpha=!1,t.hsv={h:t._hsv.h,s:h,v:f},t.onChange.next(t)},n=function(o){e(o),document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)},i=function(o){e(o)},a=function(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a)};this.palette.addEventListener("mousedown",n)},r.prototype.bindHueBarEvent=function(){var t=this,e=function(o){var s=t.hueBar.getBoundingClientRect(),u=o.clientY-s.top;u=Math.max(0,u),u=Math.min(100,u);var c=360/100*u;t.resetAlpha=!1,t.hsv={h:c,s:t._hsv.s,v:t._hsv.v},t.onChange.next(t)},n=function(o){e(o),document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)},i=function(o){e(o)},a=function(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a)};this.hueBar.addEventListener("mousedown",n)},r.prototype.bindInputsEvent=function(){var t=this,e=function(i,a,o){t.hex=Q({h:i,s:a,l:o}),t.onChange.next(t)},n=function(i,a,o){t.hex=O({r:i,g:a,b:o}),t.onChange.next(t)};this.inputsWrap.addEventListener("input",function(i){t.writing=!0;var a=i.target,o=a.getAttribute("data-model");if(a.type==="number"){var s=+a.min,u=+a.max;a.value=Math.max(a.value,s),a.value=Math.min(a.value,u)}var c=t.hsl,h=c.h,f=c.s,p=c.l,w=t.rgb,W=w.r,U=w.g,G=w.b;switch(o){case"H":e(a.value,f,p);break;case"S":e(h,a.value,p);break;case"L":e(h,f,a.value);break;case"R":n(a.value,U,G);break;case"G":n(W,a.value,G);break;case"B":n(W,U,a.value);break;case"HEX":/^#(([0-9a-f]){3}){1,2}$/i.test(a.value)&&(t.hex=a.value,t.onChange.next(t));break}t.writing=!1})},r.prototype.bindSelectedEvent=function(){var t=this;this.checkBtn.addEventListener("click",function(){t.host.classList.remove("tanbo-color-picker-show-palette"),t.onSelected.next(t)})},r.prototype.bindColorOptionsEvent=function(){var t=this;this.colorWrapper.addEventListener("click",function(e){var n=e.target;if(!!n.hasAttribute("data-color")){var i=n.getAttribute("data-color");/^rgba/.test(i)?t.rgba=St(i):t.hex=i,t.onSelected.next(t)}})},r}();function Vt(r,t){return t===void 0&&(t={}),new Pt(r,m({mainColors:["#000","#333","#444","#555","#666","#777","#888","#999","#aaa","#bbb","#ccc","#ddd","#eee","#fff"],colors:["#fec6c2","#fee5c3","#fefcc3","#baf6c4","#c3ebfe","#c3cbfe","#e1caff","#fc8e88","#fccc88","#fcf888","#76ec8a","#88d8fc","#97a4fb","#c098f4","#ff6666","#ffb151","#fada3a","#18c937","#3aaafa","#6373e2","#a669f7","#f63030","#f88933","#deb12a","#038e23","#1276cc","#3f52ce","#8838ed","#c60000","#d86912","#b88811","#086508","#144c93","#1b2eaa","#6117bf"]},t))}export{Gt as C,T as I,pt as N,j as O,V as P,At as R,Tt as S,M as a,N as b,rt as c,Ft as d,et as e,S as f,Xt as g,Kt as h,Lt as i,Rt as j,d as k,Nt as l,qt as m,Y as n,Dt as o,zt as p,Bt as q,Ht as r,Wt as s,Ut as t,Vt as u,St as v,O as w,Q as x};
