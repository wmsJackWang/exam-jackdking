<!--pages/exam/index/index.wxml-->
<view>
  <view >
    <view  wx:if="{{titleType === 1}}">
      <view wx:if="{{isEdit === false}}">
        <i-cell title="{{thinkKonwledge.content}}" ></i-cell>
        <view class="showbutton"  bindtap="edit">
          <text  class="showbutton">{{!isEdit? '修改﹀' : '收起︿'}}</text>
        </view>
      </view>
      <view wx:if="{{isEdit === true}}">
        <form bindsubmit="editSubmit">
          <textarea value="{{thinkKonwledge.content}}" name="editContent" maxlength="-1" />
          <!--隐藏属性，作为表单提交-->
          <textarea  style="display:none"  name="contentId"  value = "{{thinkKonwledge.contentId}}"/>
          知识类型：<radio-group name="editContentKonwledgeType" value = " {{thinkKonwledge.konwledgeType}} " bindchange="handleChange">
              <radio value="Q" checked="{{thinkKonwledge.konwledgeType == 'Q'}}">Q</radio>
              <radio value="I" checked="{{thinkKonwledge.konwledgeType == 'I'}}">I</radio>
              <radio value="R" checked="{{thinkKonwledge.konwledgeType == 'R'}}">R</radio>
              <radio value="C" checked="{{thinkKonwledge.konwledgeType == 'C'}}">C</radio>
          </radio-group>
          
          <button form-type="submit"  > 提交 </button>
        <view class="showbutton"  bindtap="edit">
          <text  form-type="submit"  class="showbutton">{{!isEdit? '展开﹀' : '收起︿'}}</text>
        </view>
        </form>
      </view>
    </view>


    <view class="exam-page"  wx:if="{{titleType === 2}}">

        <i-panel i-class="exam-panel-title">
          <i-cell-group i-class="exam-cell">
              <view wx:if="{{questionItem.questionType === 1}}">
                <rich-text nodes="{{questionItem.title}}" />
                <radio-group class="radio-group">
                  <label class="radio" wx:for="{{questionItem.items}}" wx:key="{{questionItem.prefix}}" wx:for-item="radioItem" class="exam-radio-item-label">
                    <radio color="#2d8cf0" value="{{radioItem.prefix}}" checked="{{radioItem.prefix == answer.content}}" class="exam-item-left" />
                    <rich-text nodes="{{radioItem.prefix}}. {{radioItem.content}}" class="exam-item-left {{radioItem.prefix == answer.content ? 'item-content-selected' : ''}}" />
                  </label>
                </radio-group>
              </view>
              <view wx:elif="{{questionItem.questionType === 2}}">
                <rich-text nodes="{{questionItem.title}}" class="exam-item-left" style="line-height:35px" />
                <checkbox-group class="exam-item-left" style="margin-left:10px">
                  <label wx:for="{{questionItem.items}}" wx:key="{{questionItem.prefix}}" wx:for-item="radioItem" class="exam-radio-item-label">
                    <checkbox color="#2d8cf0" value="{{radioItem.prefix}}" checked="{{filter.indexOf(answer.content,radioItem.prefix)}}" class="exam-item-left" />
                    <rich-text nodes="{{radioItem.prefix}}. {{radioItem.content}}" class="exam-item-left {{filter.indexOf(answer.content,radioItem.prefix) ? 'item-content-selected' : ''}}" />
                  </label>
                </checkbox-group>
              </view>
              <view wx:elif="{{questionItem.questionType === 3}}">
                <rich-text nodes="{{questionItem.title}}" class="exam-item-left" style="line-height:35px" />
                <radio-group class="radio-group" class="exam-item-left" style="margin-left:10px">
                  <label class="radio" wx:for="{{questionItem.items}}" wx:key="{{questionItem.prefix}}" wx:for-item="radioItem" class="exam-radio-item-label">
                    <radio color="#2d8cf0" value="{{radioItem.prefix}}" checked="{{radioItem.prefix == answer.content}}" class="exam-item-left" />
                    <rich-text nodes="{{radioItem.content}}" class="exam-item-left" />
                  </label>
                </radio-group>
              </view>
              <view wx:elif="{{questionItem.questionType === 4}}">
                <rich-text nodes="{{questionItem.title}}" />
                <view class="exam-input-contain" wx:for="{{questionItem.items}}" wx:key="{{questionItem.prefix}}" wx:for-item="inputItem" wx:for-index="idx">
                  <view class="exam-input-contain-label">{{inputItem.prefix}}</view>
                  <input class="exam-input-contain-content" maxlength="-1" value="{{answer.contentArray[inputItem.prefix-1]}}" />
                </view>
              </view>
              <view wx:else>
                <rich-text nodes="{{questionItem.title}}" />
                <view class="exam-textarea-contain">
                  <textarea placeholder="" maxlength="-1">{{answer.content}}</textarea>
                </view>
              </view>
              <view class="exam-clear">
                <view class="exam-extend-item" style="padding-left:0px">
                  结果:
                  <text class="question-answer-right question-answer-result" wx:if="{{answer.doRight==true}}">正确</text>
                  <text class="question-answer-error question-answer-result" wx:elif="{{answer.doRight==false}}">错误</text>
                  <text class="question-answer-judge question-answer-result" wx:elif="{{answer.doRight===null}}">待批改</text>
                </view>
                <view class="exam-extend-item">得分: {{answer.score}}</view>
                <view class="exam-extend-item">分数: {{questionItem.score}}</view>
                <view class="exam-extend-item" style="padding-left:0px">
                  难度:
                  <i-rate value="{{questionItem.difficult}}" i-class="exam-item-rate" />
                </view>
                <view class="exam-extend-item">
                  <rich-text nodes="解析: {{questionItem.analyze}}" />
                </view>
                <view class="exam-extend-item">
                  <rich-text nodes="正确答案: {{questionItem.correct}}" wx:if="{{questionItem.questionType==1||questionItem.questionType==2 ||questionItem.questionType==5}}" />
                  <rich-text nodes="正确答案: {{filter.trueFalseFormatter(questionItem)}}" wx:elif="{{questionItem.questionType==3}}" />
                  <rich-text nodes="正确答案: {{questionItem.correctArray}}" wx:elif="{{questionItem.questionType==4}}" />
                </view>
              </view>
          </i-cell-group>
        </i-panel>
    </view>



    <view hidden="{{isshow}}">
      <view >
        <form bindsubmit="bindFormSubmit">
          <textarea placeholder="写下新思考" name="textarea" maxlength="-1" />
          知识类型：<radio-group name="konwledge_type"  bindchange="handleChange">
            <radio value="Q">Q</radio>
            <radio value="I">I</radio>
            <radio value="R">R</radio>
            <radio value="C">C</radio>
          </radio-group>
          <button form-type="submit"  > 提交新知识 </button>
        </form>
      </view>
    </view>
    <view class="showbutton"  bindtap="show">
      <text  class="showbutton">{{!isshow? '收起︿' : '新建知识﹀'}}</text>
    </view>
  </view>


  <!-- <i-tabs current="2" bindchange="tabChange" fixed="true">
    <i-tab key="3" title="每日试卷" />
    <i-tab key="5" title="科目分类" />
    <i-tab key="2" title="固定试卷" />
    <i-tab key="4" title="时段试卷" />
  </i-tabs> -->
  <view class="exam-tab-view touch-item touch-move-active">
  
    <i-cell-group>

      <i-cell  wx:for="{{tableData}}"  bindtouchstart="touchstart" bindtouchmove="touchmove"  data-item="item" wx:key="{{item.id}}" title="{{item.content}}" is-link url="/pages/knowledge/list/index?parentKonwledgeId={{item.id}}"  ></i-cell>
    </i-cell-group>
<!-- 
    <view class="touch-item touch-move-active" data-index="{{index}}" bindtouchstart="touchstart" bindtouchmove="touchmove" wx:for="{{tableData}}" wx:key="">
      <view class='content' bindtap='showDetail'  data-index="{{index}}">
        <view class='column'>
          <view class='row full_width'>
            <text style='font-weight: bold;line-height:60rpx;'>{{item.content}}</text>
            <text style='margin-left:30rpx;color:gray;line-height:60rpx;'>{{item.content}}</text>
            <text style='margin-left:20rpx;color:gray;line-height:60rpx;'>{{item.content}}</text>
          </view>
          <text style='margin-top:10rpx;color:gray;'>{{item.content}}</text>
        </view>
      </view>
      <view class="del" catchtap="del" data-index="{{index}}">删除</view>
    </view> -->

  </view>
  <i-load-more tip="{{loadMoreTip}}" loading="{{loadMoreLoad}}" />
  <i-spin size="large" fix wx:if="{{ spinShow }}"></i-spin>
  <i-message id="message"  />
</view>