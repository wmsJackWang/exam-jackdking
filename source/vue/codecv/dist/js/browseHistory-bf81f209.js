import{_ as f,j as H,s as R,g as S,e as A,E as g}from"./index-e2910119.js";import{d as m,o as a,c as r,a as s,V as e,U as d,av as I,aw as y,O as L,u as l,W as T,r as k,ax as N,b as O,F as C,a6 as b,L as $,R as w}from"./@vue-3ea1986a.js";import{n as B}from"./format-904828f9.js";import{u as D}from"./vue-router-c6ae1e2a.js";import{a as V}from"./community-4340bd07.js";const v=t=>(I("data-v-b77b3164"),t=t(),y(),t),U={class:"user-tooltip flex content-card"},q={class:"head flex"},W=["src"],M={class:"nick-name"},Y=v(()=>s("strong",null,"\u6027\u522B\uFF1A",-1)),j=v(()=>s("strong",null,"\u9662\u6821\uFF1A",-1)),z=v(()=>s("strong",null,"\u6C42\u804C\u610F\u5411\uFF1A",-1)),G=v(()=>s("strong",null,"\u6240\u5728\u5730\u533A\uFF1A",-1)),J=m({__name:"userTooltip",props:{userInfo:{}},setup(t){return(o,c)=>(a(),r("div",U,[s("div",q,[s("img",{class:"mr-10",src:o.userInfo.avatar,alt:"\u5934\u50CF"},null,8,W),s("strong",M,e(o.userInfo.nickName),1)]),s("p",null,[Y,d(" "+e(o.userInfo.sex)+"\u751F ",1)]),s("p",null,[j,s("span",null,e(o.userInfo.school)+" -",1),s("span",null,e(o.userInfo.graduation)+"\u5C4A",1)]),s("p",null,[z,d(" "+e(o.userInfo.professional),1)]),s("p",null,[G,d(" "+e(o.userInfo.origin),1)])]))}});const K=f(J,[["__scopeId","data-v-b77b3164"]]),P=t=>(I("data-v-d1a3a7e5"),t=t(),y(),t),Q={class:"user-head"},X=["src"],Z={class:"user-info"},x={class:"user-name"},ss={class:"date-school"},ts={key:0,class:"datetime mr-20"},os={class:"school"},es=P(()=>s("i",{class:"iconfont icon-school"},null,-1)),ns=m({__name:"userInfo",props:{userInfo:{},publishTime:{}},setup(t){return(o,c)=>{var _,u,n,i;return a(),r("div",Q,[s("img",{class:"pointer mr-10",src:(_=o.userInfo)==null?void 0:_.avatar},null,8,X),L(K,{class:"user-tooltip",userInfo:o.userInfo},null,8,["userInfo"]),s("div",Z,[s("span",x,e((u=o.userInfo)==null?void 0:u.nickName),1),s("div",ss,[o.publishTime?(a(),r("span",ts,e(l(H)(o.publishTime))+"\u53D1\u5E03",1)):T("",!0),s("span",os,[es,d(" "+e((n=o.userInfo)==null?void 0:n.school)+" - "+e((i=o.userInfo)==null?void 0:i.graduation)+"\u5C4A ",1)])])])])}}});const Cs=f(ns,[["__scopeId","data-v-d1a3a7e5"]]);function as(){const t="__BROWSE_HISTORY__",c=k([]),_=D();function u(p){const h=n();h.length>=10&&h.pop(),h.unshift(p),R(t,h,60*60*1e3*24*365)}function n(){return S(t)||[]}function i(p){c.value=p}function F(p){_.push(`/community/detail?articleId=${p}`)}return N(()=>{i(n()||[])}),{data:c,useDetail:F,setBrowseHistory:u,getBrowseHistory:n}}function us(){const t=k([]),o=D();async function c(){const u=await V({requireCount:10});if(u.code===200){t.value=u.data;return}A(u.msg)}function _(u){o.push(`/community/detail?articleId=${u}`)}return O(()=>c()),{useDetail:_,hotList:t}}const is=t=>(I("data-v-2cb6ed66"),t=t(),y(),t),rs={class:"hot-list content-card"},cs=is(()=>s("p",{class:"hot-title slide-title"},"\u70ED\u95E8\u9762\u7ECF",-1)),ls={key:0,class:"list-style-init"},_s=["onClick"],ds=m({__name:"hotList",setup(t){const{hotList:o,useDetail:c}=us();return(_,u)=>(a(),r("div",rs,[cs,l(o).length?(a(),r("ul",ls,[(a(!0),r(C,null,b(l(o),(n,i)=>(a(),r("li",{key:i,class:"line-2",onClick:F=>l(c)(n.articleId)},[s("span",{class:$(["rank",{topRank:i<3}])},e(i+1),3),d(" "+e(n.title)+" ",1),s("i",{class:$(["iconfont icon-hot font-20",{topRank:i<3}])},null,2),s("span",{class:$({topRank:i<3})},e(l(B)(n.hot)),3)],8,_s))),128))])):(a(),w(g,{key:1,title:"\u8FD8\u6CA1\u6709\u9762\u7ECF\uFF0C\u5FEB\u53BB\u62A2\u6C99\u53D1\u5427."}))]))}});const bs=f(ds,[["__scopeId","data-v-2cb6ed66"]]),E=t=>(I("data-v-7d30686a"),t=t(),y(),t),ps={class:"browse-history-list mt-20 content-card"},hs=E(()=>s("p",{class:"browse-history-title slide-title"},"\u6D4F\u89C8\u5386\u53F2",-1)),fs={key:0,class:"list-style-init history-list"},ms=["onClick"],Is=E(()=>s("i",{class:"iconfont icon-browse font-20"},null,-1)),ys=m({__name:"browseHistory",setup(t){const{data:o,useDetail:c}=as();return(_,u)=>(a(),r("div",ps,[hs,l(o).length?(a(),r("ul",fs,[(a(!0),r(C,null,b(l(o),(n,i)=>(a(),r("li",{key:i,class:"line-2",onClick:F=>l(c)(n.articleId)},[d(e(n.title)+" ",1),s("span",null,[Is,d(" "+e(l(B)(n.hot)),1)])],8,ms))),128))])):(a(),w(g,{key:1,title:"\u4F60\u8FD8\u6CA1\u6D4F\u89C8\u8FC7\u4EFB\u4F55\u6587\u7AE0"}))]))}});const ws=f(ys,[["__scopeId","data-v-7d30686a"]]);export{ws as B,bs as H,Cs as U,as as u};
