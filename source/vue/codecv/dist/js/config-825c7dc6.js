import{p as u,g as l,T as h}from"./index-e2910119.js";import{r as p}from"./@vue-3ea1986a.js";const s="https://bittechblog.com";async function E(t){return await(await fetch({}.VITE_EXPORT_URL,{method:"POST",body:JSON.stringify(t)})).json()}function d(){return new Promise((t,n)=>{fetch(`${s}/get/count`,{headers:{Authorization:{}.VITE_UPSTASH_GET_TOKEN}}).then(e=>e.json()).then(e=>t(e.result)).catch(n)})}async function O(){let t;try{t=await d()}catch{return Promise.resolve("\u83B7\u53D6\u5931\u8D25...")}return new Promise(n=>{fetch(`${s}/set/count/${parseInt(t)+1}`,{headers:{Authorization:{}.VITE_UPSTASH_SET_TOKEN}}).then(e=>e.json()).then(e=>n(e.result)).catch(n)})}function P(t){return u("/api/codecv/resume/getResumeInfo",t)}function _(t){return u("/api/codecv/resume/deleteResumeInfo",t)}async function g(){return await(await fetch(`${s}/api/codecv/resume/get/templateData`,{method:"POST",body:JSON.stringify({title:"title"}),headers:{"x-access-token":l(h),"Content-Type":"application/json;charset=UTF-8"}})).json()}async function v(){return(await fetch(`${s}/api/codecv/resume/resumeFileList`,{method:"POST",body:JSON.stringify({token:l(h)}),headers:{"x-access-token":l(h),"Content-Type":"application/json;charset=UTF-8"}})).json()}async function w(t){let n,e={};try{n=await g()}catch{return Promise.resolve({msg:"\u83B7\u53D6\u6A21\u677F\u6570\u636E\u5931\u8D25...",result:null})}return n.result&&(e=JSON.parse(n.result)),e[`t${t.name}`]=String(+(e[`t${t.name}`]||0)+1),await(await fetch(`${s}/set/templateData`,{method:"POST",body:JSON.stringify(e),headers:{Authorization:{}.VITE_UPSTASH_SET_TOKEN}})).json()}function j(){return new Promise(t=>{fetch({}.VITE_GITEE_API_URL).then(n=>n.json()).then(n=>{t(n)}).catch(()=>t([]))})}function I(t){return u("/api/codecv/resume/save",t)}function f(){return u("/api/codecv/resume/get/allTemplateData",{})}const o=new Map;o.set("create",["#333","#333","","25"]);const i=p([]);let r=Object.entries(Object.assign({}));T();function m(t,n){const e=n.default;e.id=Math.ceil(Math.random()*1e9),e.type=t.split("/")[2],i.value.length<=r.length&&i.value.push(e),o.set(e.type,["#333","#333",e.font||"",String(e.lineHeight||25)])}function T(){f().then(t=>{if(t.code==200){r=JSON.parse(t.data);for(const[n,e]of r){const a=e.default;a.id=Math.ceil(Math.random()*1e9),a.type=n.split("/")[2],i.value.length<=r.length&&i.value.push(a),o.set(a.type,["#333","#333",a.font||"",String(a.lineHeight||25)])}}})}function N(t){return f().then(n=>{let e;if(n.code==200){e=JSON.parse(n.data);for(const[a,c]of e)m(a,c)}return o.get(t)[1]}),""}function A(t){return f().then(n=>{let e;if(n.code==200){e=JSON.parse(n.data);for(const[a,c]of e)m(a,c)}return o.get(t)[0]}),""}function C(t){return o.get(t)[2]}export{w as a,A as b,C as c,m as d,P as e,d as f,N as g,I as h,T as i,g as j,j as k,v as l,_ as m,f as q,E as r,O as s,i as t};
