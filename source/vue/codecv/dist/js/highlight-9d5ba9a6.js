import{s as g}from"./index-0e6c793d.js";import{h as B}from"./@vueuse-455f7559.js";import{r as _,b as T,I,d as p,o,c as l,a as v,V as M,L as k,u as c,n as C,ax as b,F as E,a6 as x,R as f,T as D}from"./@vue-3ea1986a.js";import{_ as y,E as L}from"./index-e2910119.js";function S(){const t=_(0),e=B(function(){t.value=(document.documentElement||document.body).scrollTop},50);return T(()=>{document.addEventListener("scroll",e)}),I(()=>{document.removeEventListener("scroll",e)}),t}const F=["level"],A=p({__name:"menuBarItem",props:{MenuItem:{}},setup(t){const e=S();return(n,a)=>(o(),l("div",{class:"o_menu-bar_title",level:n.MenuItem.level},[v("span",{class:k({o_active:c(e)>=n.MenuItem.offset&&c(e)<n.MenuItem.offsetMax})},M(n.MenuItem.title),3)],8,F))}});const N=y(A,[["__scopeId","data-v-ccdd5969"]]);function $(t){const e=_([]);return C(()=>{e.value=m(t)}),b(()=>{e.value=m(t)}),e}function m(t){const e=[];return d(e,document.querySelector(t)),z(e),e}function d(t,e,n){const a=e==null?void 0:e.tagName.toLowerCase();if((e==null?void 0:e.nodeType)==1&&a[0]==="h"){const s={offsetMax:0};s.title=e.textContent+"",s.level=+a[1],s.offset=w(e),s.target=e,t.push(s)}else{if(!e||e.nodeType!=1)return;const s=Array.from(e.children);for(const u of s)d(t,u)}}function w(t){let e=t==null?void 0:t.offsetTop,n=t.offsetParent;for(;n!==null;)e+=n.offsetTop,n=n.offsetParent;return e}function z(t){for(let e=0,n=t.length;e<n;e++)e+1<n?t[e].offsetMax=t[e+1].offset:t[e].offsetMax=1/0}const O={class:"o_menu_title"},P={key:0,class:"o_menu_bar_container"},V=p({__name:"MenuBar",props:{body:{},menuTitle:{},style:{type:[Boolean,null,String,Object,Array]}},emits:["MenuBarClick"],setup(t,{emit:e}){const n=t,a=e,s=$(n.body);function u(r){g(r.offset),a("MenuBarClick",r)}return(r,j)=>(o(),l("div",{class:"o_navigator_menu",style:D(r.style)},[v("h3",O,M(r.menuTitle||"\u76EE\u5F55"),1),c(s).length?(o(),l("div",P,[(o(!0),l(E,null,x(c(s),(i,h)=>(o(),f(N,{key:h,MenuItem:i,onClick:q=>u(i)},null,8,["MenuItem","onClick"]))),128))])):(o(),f(L,{key:1,title:"\u6682\u65E0\u6807\u9898"}))],4))}});const J=y(V,[["__scopeId","data-v-0f9a0dee"]]);export{J as M};
